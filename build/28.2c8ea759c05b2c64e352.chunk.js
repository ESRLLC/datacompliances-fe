(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{a9ae740facef454fd5be:function(e,r,t){"use strict";t.r(r);var n=t("8af190b70a6bc55c6f1b"),a=t.n(n),o=(t("8a2d1b95e05b6a321e74"),t("344977176ae9f8bae630")),s=t("da310028ba2a28510514"),i=t("d7dd51e1bf6bfc2c9c3d"),c=t("a28fc3c963a1d4d1a2e5"),u=t("6b20a4038fb2adfb033d"),l=t("a72b40110d9c31c9b5c5"),d=function(e){return e.loginForgotPassword},f="XcelTrip/LoginContainer/FORGOT_PASSWORD_REQUEST",b="XcelTrip/LoginContainer/FORGOT_PASSWORD_SUCCESS",p="XcelTrip/LoginContainer/FORGOT_PASSWORD_FAILURE",m="XcelTrip/LoginContainer/RESEND_CONFIRMATION_REQUEST",g="XcelTrip/LoginContainer/RESEND_CONFIRMATION_SUCCESS",O="XcelTrip/LoginContainer/RESEND_CONFIRMATION_FAILURE",v="XcelTrip/LoginContainer/FORGOT_PASSWORD_RESET",y=t("371a6f90cf4b090759be"),h=Object(y.a)(f,"data"),R=Object(y.a)(b,"response"),w=Object(y.a)(p,"error"),j=Object(y.a)(m,"userId"),S=Object(y.a)(g,"response"),E=Object(y.a)(O,"error"),C=Object(y.a)(v),_=t("d50d489dc7620a75c2a0"),k=t.n(_),I=t("9683455beae561750395"),N=t("d782b72bc5b680c7122c"),T=t("3ad3c1378076e862aab0"),P=t("8636a5b0e6ac43ae8b4d"),x=regeneratorRuntime.mark(D),q=regeneratorRuntime.mark(L),F=regeneratorRuntime.mark(U),A=regeneratorRuntime.mark(X);function D(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.take)(b);case 2:case"end":return e.stop()}},x)}function L(e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.fork)(D);case 2:return r=t.sent,t.next=5,Object(N.call)(P.a.post("user/security-settings/reset-password-link",R,w,e.data));case 5:return t.next=7,Object(N.take)([T.LOCATION_CHANGE,p]);case 7:return t.next=9,Object(N.cancel)(r);case 9:case"end":return t.stop()}},q)}function U(e){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.call)(P.a.post("api/user/resend-confirm-email/".concat(e.userId),S,E,{userId:e.userId},""));case 2:case"end":return r.stop()}},F)}function X(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.takeLatest)(f,L);case 2:return e.next=4,Object(N.takeLatest)(m,U);case 4:case"end":return e.stop()}},A)}var G=t("54f683fcda7806277002"),W=Object(G.fromJS)({response:null,error:null,requesting:!1,success:!1,userId:"",resendEmailRequesting:!1});var J,M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(r.type){case f:return e.merge({requesting:!0,error:null,response:null,success:!1});case b:return e.merge({requesting:!1,response:r.response.message,error:null,success:!0});case p:return e.merge({requesting:!1,response:null,error:r.error.message,success:!1,userId:r.error.data&&r.error.data.user_id?r.error.data.user_id:""});case m:return e.merge({resendEmailRequesting:!0});case g:return e.merge({resendEmailRequesting:!1,response:r.response.message,error:null,userId:""});case O:return e.merge({resendEmailRequesting:!1});case v:return W;default:return e}},Q=t("adc20f99e57c573c589c"),$=t("d95b0cf107403b178365"),z=t("ab4cb61bcb2dc161defb");t("dbbafdc0abc045c3b262");function H(e){return(H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,r,t,n){J||(J="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(r||0===o||(r={children:void 0}),r&&a)for(var s in a)void 0===r[s]&&(r[s]=a[s]);else r||(r=a||{});if(1===o)r.children=n;else if(o>1){for(var i=new Array(o),c=0;c<o;c++)i[c]=arguments[c+3];r.children=i}return{$$typeof:J,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}function B(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,r){return(Z=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function ee(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var re=Object(c.b)({successResponse:Object(c.a)(d,function(e){return e.get("response")}),errorResponse:Object(c.a)(d,function(e){return e.get("error")}),isRequesting:Object(c.a)(d,function(e){return e.get("requesting")}),success:Object(c.a)(d,function(e){return e.get("success")}),unverifiedUserId:Object(c.a)(d,function(e){return e.get("userId")}),requestingResendEmail:Object(c.a)(d,function(e){return e.get("resendEmailRequesting")})}),te=Y("h3",{className:"thin"},void 0,"Reset Your Password"),ne=Y("p",{},void 0,"Don\u2019t worry! Just fill in your email and we\u2019ll send you a password reset link."),ae=function(e){function r(){var e,t,n,a;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=this,a=(e=K(r)).call.apply(e,[this].concat(s)),t=!a||"object"!==H(a)&&"function"!==typeof a?V(n):a,ee(V(t),"state",{data:{email:""},errors:{}}),ee(V(t),"handleChange",function(e){e.preventDefault(),t.setState({data:ee({},e.target.name,e.target.value)})}),ee(V(t),"validate",function(e){var r={};return e.email||(r.email="Can't be blank"),r}),ee(V(t),"handleSubmit",function(e){e.preventDefault();var r=t.validate(t.state.data);t.setState({errors:r}),0===Object.keys(r).length&&t.props.forgotPassword(t.state.data)}),ee(V(t),"resendEmail",function(){t.props.resendConfirmationEmail(t.props.unverifiedUserId)}),t}var t,n,i;return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Z(e,r)}(r,a.a.Component),t=r,(n=[{key:"componentWillMount",value:function(){this.props.resetForm()}},{key:"render",value:function(){var e=this.state,r=e.errors,t=e.data,n=this.props,a=n.isRequesting,i=n.errorResponse,c=n.successResponse,l=n.unverifiedUserId,d=n.requestingResendEmail;return Y(o.a,{open:!0,onClose:this.props.hideDialog,className:"mini forgot-pass",closeIcon:!0},void 0,Y(o.a.Content,{},void 0,i&&Y("div",{className:"negative message"},void 0,Y("p",{},void 0,i),l&&Y(s.a,{secondary:!0,size:"small",onClick:this.resendEmail,disabled:d,loading:d},void 0,"Resend Email")),c&&Y("p",{className:"positive message"},void 0,c),Y("img",{src:k.a,alt:"forgot",style:{width:"72px"}}),te,ne,Y(u.a,{className:"form",onSubmit:this.handleSubmit},void 0,Y(I.a,{type:"email",name:"email",placeholder:"Email",className:"form-control",value:t.email,onChange:this.handleChange,error:r.email}),Y("div",{className:"field clearfix align-center"},void 0,Y("div",{className:"inline-block"},void 0,Y(s.a,{type:"submit",className:"primary button",loading:a,disabled:a},void 0,"Submit"))))))}}])&&B(t.prototype,n),i&&B(t,i),r}(),oe=Object($.a)({key:"loginForgotPassword",reducer:M}),se=Object(Q.a)({key:"loginForgotPassword",saga:X}),ie=Object(i.connect)(re,function(e){return{hideDialog:function(){return e(Object(l.e)(null))},showDialog:function(r){return e(Object(l.e)(r))},forgotPassword:function(r){return e(h(r))},resetForm:function(){return e(C())},resendConfirmationEmail:function(r){return e(j(r))}}});r.default=Object(z.compose)(oe,se,ie)(ae)},d50d489dc7620a75c2a0:function(e,r,t){e.exports=t.p+"6de7ffa76065c0e70af63529cf6b12c9.svg"}}]);