(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{cbde0014a2e24a4882c7:function(e,r,t){"use strict";t.r(r);var n=t("8af190b70a6bc55c6f1b"),o=t.n(n),c=(t("8a2d1b95e05b6a321e74"),t("d7dd51e1bf6bfc2c9c3d")),s=t("a28fc3c963a1d4d1a2e5"),a=t("e95a63b25fb92ed15721"),i="PCSC/Register/ConfirmUser/CONFIRM_USER_REQUEST",u="PSCS/Register/ConfirmUser/CONFIRM_USER_SUCCESS",f="PCSC/Register/ConfirmUser/CONFIRM_USER_FAILURE",b=t("371a6f90cf4b090759be"),l=Object(b.a)(i,"data"),p=Object(b.a)(u,"response"),d=Object(b.a)(f,"error"),m=(Object(b.a)("XcelTrip/Register/ConfirmUser/CLEAR_STATE"),t("54f683fcda7806277002")),g=Object(m.fromJS)({requesting:!1,success:!0,response:null,error:null});var y,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case i:return e.merge({requesting:!0,success:!1});case u:return e.merge({requesting:!1,success:!0,response:r.response.message,error:null});case f:return e.merge({requesting:!1,success:!1,response:null,error:r.error.message||"Link is dead. Confirmation Token has already been used or it might be invalid token."});default:return e}},O=function(e){return e.registerConfirmUser||g},h=t("d496bbf46a0e133f24e8"),j=t("ab4cb61bcb2dc161defb"),R=t("adc20f99e57c573c589c"),w=t("d95b0cf107403b178365"),C=t("d782b72bc5b680c7122c"),S=t("3ad3c1378076e862aab0"),k=t("384d9479bdc5794993e1"),_=t("8636a5b0e6ac43ae8b4d"),U=regeneratorRuntime.mark(x),N=regeneratorRuntime.mark(P),E=regeneratorRuntime.mark(q);function x(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.take)(u);case 2:return e.sent,localStorage.removeItem("token"),sessionStorage.removeItem("token"),e.next=7,Object(C.put)(Object(k.p)());case 7:case"end":return e.stop()}},U)}function P(e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.fork)(x);case 2:return r=t.sent,t.next=5,Object(C.fork)(_.a.get("confirm/user/".concat(e.data),p,d));case 5:return t.next=7,Object(C.take)([S.LOCATION_CHANGE,f]);case 7:return t.next=9,Object(C.cancel)(r);case 9:case"end":return t.stop()}},N)}function q(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.takeLatest)(i,P);case 2:case"end":return e.stop()}},E)}function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,r,t,n){y||(y="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,c=arguments.length-3;if(r||0===c||(r={children:void 0}),r&&o)for(var s in o)void 0===r[s]&&(r[s]=o[s]);else r||(r=o||{});if(1===c)r.children=n;else if(c>1){for(var a=new Array(c),i=0;i<c;i++)a[i]=arguments[i+3];r.children=a}return{$$typeof:y,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}function A(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e,r){return!r||"object"!==T(r)&&"function"!==typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,r){return(M=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}var J=Object(s.b)({isRequesting:Object(s.a)(O,function(e){return e.get("requesting")}),success:Object(s.a)(O,function(e){return e.get("success")}),errorResponse:Object(s.a)(O,function(e){return e.get("error")}),successResponse:Object(s.a)(O,function(e){return e.get("response")})}),$=I(h.a,{}),D=I("div",{className:"img-floating round bg-black"},void 0,I("i",{className:"icon-users"})),G=I(a.Link,{className:"fluid button primary",to:"/"},void 0,"Continue"),H=function(e){function r(){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),L(this,F(r).apply(this,arguments))}var t,n,c;return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&M(e,r)}(r,o.a.Component),t=r,(n=[{key:"componentDidMount",value:function(){var e=this.props.match.params.userid;e&&this.props.confirmUser(e)}},{key:"render",value:function(){var e=this.props,r=(e.requesting,e.success),t=e.errorResponse,n=e.successResponse;return I("section",{className:"ptn-1 align-center"},void 0,e.isRequesting?$:I("div",{className:"wrapper"},void 0,I("div",{className:"align-center"},void 0,I("div",{className:"segment message ".concat(r?"positive":"negative"," card-center card-md has-img-floating")},void 0,D,n&&"string"===typeof n&&I("p",{className:"mg-all-md"},void 0,n),t&&"string"===typeof t&&I("p",{className:"mg-all-md"},void 0,t," "),G))))}}])&&A(t.prototype,n),c&&A(t,c),r}(),Q=Object(c.connect)(J,function(e){return{confirmUser:function(r){return e(l(r))}}}),X=Object(w.a)({key:"registerConfirmUser",reducer:v}),z=Object(R.a)({key:"registerConfirmUser",saga:q});r.default=Object(j.compose)(X,z,Q)(H)}}]);