(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{f5a799db1717a3ca2ef3:function(e,t,r){"use strict";r.r(t);var o=r("8af190b70a6bc55c6f1b"),n=r.n(o),a=r("d7dd51e1bf6bfc2c9c3d"),i=r("a28fc3c963a1d4d1a2e5"),c=r("a72b40110d9c31c9b5c5"),s=r("6542cd13fd5dd1bcffd4"),u=r("adc20f99e57c573c589c"),d=r("d95b0cf107403b178365"),l=r("54f683fcda7806277002"),p="PCSC/Report/GET_REPORT_LISTING_REQUEST",f="PCSC/Report/GET_REPORT_LISTING_SUCCESS",b="PCSC/Report/GET_REPORT_LISTING_FAILURE",v="PCSC/Report/DOWNLOAD_REPORT_REQUEST",m="PCSC/Report/DOWNLOAD_REPORT_SUCCESS",R="PCSC/Report/DOWNLOAD_REPORT_FAILURE",g="app/ReferShare/CLEAR_MESSAGE",h=r("62cade0222f879de1092"),y=Object(l.fromJS)({loading:!1,requesting:!1,response:"",reportList:"",error:"",public_url:""});var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return e.merge({loading:!0,response:"",reportList:"",error:""});case v:return e.merge({loading:!0,response:"",error:"",public_url:""});case f:return e.merge({loading:!1,response:"",reportList:Object(l.fromJS)(t.response.data)});case m:return e.merge({loading:!1,response:t.response.message,error:"",public_url:t.response.public_url});case b:case R:return e.merge({error:t.error.message,response:"",loading:!1});case g:return e.merge({response:"",error:""});case h.t:return y;default:return e}},w=r("d782b72bc5b680c7122c"),_=r("371a6f90cf4b090759be"),L=Object(_.a)(p),S=Object(_.a)(f,"response"),j=Object(_.a)(b,"error"),N=Object(_.a)(v,"key","product_id"),C=Object(_.a)(m,"response"),k=Object(_.a)(R,"error"),E=(Object(_.a)(g),r("8636a5b0e6ac43ae8b4d")),P=r("278a8afb137fef007e00"),T=regeneratorRuntime.mark(x),U=regeneratorRuntime.mark(A),D=regeneratorRuntime.mark(I);function x(e){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(P.a)(),e.next=3,Object(w.call)(E.a.get("report",S,j,t));case 3:case"end":return e.stop()}},T)}function A(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object(P.a)(),r.next=3,Object(w.call)(E.a.post("report/download/".concat(e.product_id,"/").concat(e.key),C,k,{},t));case 3:case"end":return r.stop()}},U)}function I(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.takeLatest)(p,x);case 2:return e.next=4,Object(w.takeLatest)(v,A);case 4:case"end":return e.stop()}},D)}var M,q=r("ab4cb61bcb2dc161defb"),G=(r("df4d709115ae1aca60ef"),r("8d9c7cf052a3e0fd63c8")),J=r.n(G),F=r("e95a63b25fb92ed15721"),W=function(e){return e.report},Q=r("7c8fca7d16f10dc3ca35"),$=r("344977176ae9f8bae630"),z=r("da310028ba2a28510514");function H(e){return(H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t,r,o){M||(M="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:M,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function V(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ee=Object(i.b)({isRequesting:Object(i.a)(W,function(e){return e.get("loading")}),location:Object(s.d)(),reportsList:Object(i.a)(W,function(e){return e.get("reportList")}),publicURL:Object(i.a)(W,function(e){return e.get("public_url")})}),te=K(Q.a,{icon:"info circle",content:"PDF report"}),re=K("span",{},void 0,"Click download to get PDF report."),oe=K("div",{className:"divider"},void 0,"/"),ne=K("div",{className:"active section"},void 0,"Reports"),ae=K("h1",{className:"main_title"},void 0,"Your Reports"),ie=K("span",{className:"product-title"},void 0,"Report"),ce=K("br",{}),se=K("br",{}),ue=K("i",{className:"icon-check"}),de=K("i",{className:"icon-check"}),le=K("i",{className:"icon-check"}),pe=K("div",{className:"ui segment"},void 0,K("div",{className:"ui active inverted dimmer"},void 0,K("div",{className:"ui small text loader"},void 0,"Loading.....")),K("p",{})),fe=K("div",{className:"no-products"},void 0,K("img",{src:J.a})),be=function(e){function t(e){var r,o,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,n=Y(t).call(this,e),r=!n||"object"!==H(n)&&"function"!==typeof n?B(o):n,Z(B(r),"downloadReport",function(e,t){r.props.downloadReportRequest(e,t)}),Z(B(r),"closeModal",function(){r.setState({downloadURL:""})}),r.state={showCopyMsg:!1,newreferral:!1,allReportsList:"",downloadURL:"",showModal:!1},r}var r,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,n.a.Component),r=t,(o=[{key:"componentDidMount",value:function(){this.props.getReportsListingRequest()}},{key:"componentWillReceiveProps",value:function(e){this.props.reportsList!=e.reportsList&&this.setState({allReportsList:e.reportsList&&e.reportsList.toJS()}),this.props.publicURL!=e.publicURL&&this.setState({downloadURL:e.publicURL&&e.publicURL})}},{key:"render",value:function(){var e=this;!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(this.props);var t=this.state,r=t.allReportsList,o=t.downloadURL;t.showModal;return K("div",{},void 0,""!=o&&K($.a,{className:"multi-fac-modal",open:""!=o,size:"mini",style:{leftMargin:"20%"}},void 0,te,K($.a.Content,{style:{minHeight:"80px"}},void 0,re),K($.a.Actions,{},void 0,K("a",{className:"ui green button",href:o,target:"_blank"},void 0,"Download"),K(z.a,{color:"red",className:"button",onClick:this.closeModal},void 0,"Cancel"))),K("div",{className:"package_not_found"},void 0,"/user/dashboard/reports"==this.props.location.pathname&&K("div",{className:"ui breadcrumb"},void 0,K(F.Link,{className:"section",to:{pathname:"/user/dashboard"}},void 0,"Dashoard"),oe,ne),K("div",{className:"product-listing"},void 0,ae,K("div",{className:"product-grid"},void 0,r&&r.dataList&&r.dataList.length>0?r.dataList.map(function(t,r){return K("div",{className:"product-item"},"paidList".concat(r),K("div",{className:"product-wrap"},void 0,ie,ce,se,K("ul",{className:"feature-list"},void 0,K("li",{},void 0,ue,K("span",{},void 0,"Report Of: ",t&&t.product&&t.product[0].title)),K("li",{},void 0,de,K("span",{},void 0,"Country: ",t&&t.product&&t.product[0].country," ")),K("li",{},void 0,le,K("span",{},void 0,"Industry: ",t&&t.product&&t.product[0].industry," "))),K("div",{className:"buttons-wrap"},void 0,K(F.Link,{className:"ui blue-button button",to:"/user/dashboard/report/detail/".concat(t&&t.product_id)},"view__1","View Detail"),K(z.a,{className:"ui button detail-btn",onClick:function(){return e.downloadReport(t&&t.report_data&&t.report_data.Key,t&&t.product_id)}},void 0,"Download Report"))))}):this.props.isRequesting?pe:fe))))}}])&&V(r.prototype,o),a&&V(r,a),t}(),ve=Object(d.a)({key:"report",reducer:O}),me=Object(u.a)({key:"report",saga:I}),Re=Object(a.connect)(ee,function(e){return{showDialog:function(t){return e(Object(c.e)(t))},getReportsListingRequest:function(){return e(L())},downloadReportRequest:function(t,r){return e(N(t,r))}}});t.default=Object(q.compose)(ve,me,Re)(be)}}]);